<div class="fil-form">
<div class="container-fluid">
    <form class="form-inline " role="form">
<label for="email2" class="mb-2 mr-sm-2">From : </label>
<form class="form-inline">
<div class="form-group">
<div class="input-group">
    <input class="form-control" placeholder="yyyy-mm-dd" name="d1" [(ngModel)]="fromDate" ngbDatepicker #d1="ngbDatepicker" (ngModelChange)="updateDate(fromDate,toDate)" style="margin-right: 0px!important;">
    <button class="input-group-addon" (click)="d1.toggle()" type="button">
<i class="fa fa-calendar"></i>
</button>
</div>
</div>
</form>
<label for="pwd2" class="mb-2 mr-sm-1">To :</label>
<form class="form-inline">
<div class="form-group">
<div class="input-group">
    <input class="form-control" placeholder="yyyy-mm-dd" name="d2" [(ngModel)]="toDate" ngbDatepicker #d2="ngbDatepicker" (ngModelChange)="updateDate(fromDate,toDate)" style="margin-right: 0px!important;">
    <button class="input-group-addon" (click)="d2.toggle()" type="button">
<i class="fa fa-calendar"></i>
</button>
</div>
</div>
</form>

<select (change)="getDataForFilters($event.target.value)" class="form-control">
<option value="0">--All--</option>
<option *ngFor="let portal of portalList" value={{portal.portal_id}}>
   {{portal.portal_name}}
</option>
</select> 

</form>
</div>
    </div>

	<div class="clear">&nbsp;</div>

<div  class="container-fluid ">

<div class="row" *ngIf='portalFigures'>
<div class="col">
<div class="top-tiles">
<ul>
    <li>
        <div class="card-counter" (click)='getGridData("get_total_portal", "Total Portal")'>
            <span class="count-numbers">{{portalFigures.total_protal}}</span>
            <span class="count-name"><i class="fa fa-user" aria-hidden="true"></i> Total Portals</span>

        </div>
    </li>
    <li>
        <div class="card-counter" (click)='getGridData("get_total_dealer", "Total Dealers")'>
            <span class="count-numbers">{{portalFigures.total_dealers}}</span>
            <span class="count-name"><i class="fa fa-user" aria-hidden="true"></i> Total Dealers</span>



        </div>
    </li>
    <li>
        <div class="card-counter" (click)='getGridData("get_total_portal", "Total Employees")'>

            <span class="count-numbers">{{portalFigures.total_emp}}</span>
            <span class="count-name"><i class="fa fa-user" aria-hidden="true"></i>Total Employees</span>


        </div>
    </li>
    <li>
        <div class="card-counter" (click)='getGridData("get_order_by_dealer", "Order place by Dealers")'>
            <span class="count-numbers">{{portalFigures.order_place_by_dealers}}</span>
            <span class="count-name"><i class="fa fa-user" aria-hidden="true"></i>Order place by Dealers</span>



        </div>
    </li>
    <li>
        <div class="card-counter" (click)='getGridData("get_total_portal","Order Place by Employees")'>
            <span class="count-numbers">{{portalFigures.order_place_by_emp}}</span>
            <span class="count-name"><i class="fa fa-user" aria-hidden="true"></i>Order Place by Employees</span>

        </div>
    </li>
    <li>
        <div class="card-counter" (click)='getGridData("get_total_portal", "Total Orders Received by Dealer")'>
            <span class="count-numbers">{{portalFigures.total_order_received_by_dealer}}</span>
            <span class="count-name"><i class="fa fa-user" aria-hidden="true"></i>Total Orders Received by Dealer</span>

        </div>
    </li>
    <li>
        <div class="card-counter" (click)='getGridData("total_order_recived_by_emp", "Total Orders Received by Employees")'>
            <span class="count-numbers">{{portalFigures.total_order_received_by_emp}}</span>
            <span class="count-name"><i class="fa fa-user" aria-hidden="true"></i>Total Orders Received by
    Employees</span>
        </div>
    </li>

</ul>

</div>
<hr>
<div class="top-tiles">
<ul>
    <li>
        <div class="card-counter" (click)='getGridData("total_order_qnty", "Total Order Qty")'>
            <span class="count-numbers">{{portalFigures.total_order_qty}}</span>
            <span class="count-name"><i class="fa fa-user" aria-hidden="true"></i> Total Order Qty</span>

        </div>
    </li>
    <li>
        <div class="card-counter" (click)='getGridData("total_order_amount", "Total Order Amount")'>
            <span class="count-numbers">{{portalFigures.total_order_amt}}</span>
            <span class="count-name"><i class="fa fa-user" aria-hidden="true"></i> Total Order Amount</span>
        </div>
    </li>
    <li>
        <div class="card-counter" (click)='getGridData("total_order_dispatch", "Total order dispatch")'>
            <span class="count-numbers">{{portalFigures.total_order_dispatch}}</span>
            <span class="count-name"><i class="fa fa-user" aria-hidden="true"></i>Total order dispatch</span>

        </div>
    </li>
    <li>
        <div class="card-counter" (click)='getGridData("order_dispatch_ontime", "Orde Dispatch on Time")'>
            <span class="count-numbers">{{portalFigures.order_dispatch_on_time}}</span>
            <span class="count-name"><i class="fa fa-user" aria-hidden="true"></i>Orde Dispatch on Time</span>
        </div>
    </li>
    <li>
        <div class="card-counter" (click)='getGridData("delayed_order", "Delay Orders")'>
            <span class="count-numbers">{{portalFigures.delary_orders}}</span>
            <span class="count-name"><i class="fa fa-user" aria-hidden="true"></i>Delay Orders</span>
        </div>
    </li>
    <li>
        <div class="card-counter" (click)='getGridData("total_order_pending", "Total order Pending")'>
            <span class="count-numbers">{{portalFigures.total_order_pending}}</span>
            <span class="count-name"><i class="fa fa-user" aria-hidden="true"></i>Total order Pending</span>
        </div>
    </li>
    <li>
        <div class="card-counter" (click)='getGridData("cancel_order","Cancel Orders")'>
            <span class="count-numbers">{{portalFigures.cancel_order}}</span>
            <span class="count-name"><i class="fa fa-user" aria-hidden="true"></i>Cancel Orders</span>
        </div>
    </li>
</ul>

</div>
</div>
</div>
<div class="row" style="margin-top: 20px;">
<div class="col">

<div class="card">
<div class="card-header">Portal Figure </div>
<div class="card-body">
    <div class="row">
        <div class="col-sm-6">
            <p>
                <p-chart type="line" [data]="graphData"></p-chart>
            </p>
        </div>
    </div>
</div>
</div>
</div>
</div>
</div>

<p-dialog [(visible)]="display" [width]='1000' [modal]=true>
<p-header>
{{header}}
</p-header>
<div class="card" *ngIf="tableData">
        <div class="row" style="margin-top: 20px">
            <div class="col">
                <div class="table-responsive">
                    <p-dataTable [value]="tableData" [tableStyle]="{'text-align':'center'}" scrollable="true" scrollHeight="350px" [resizableColumns]="true" [paginator]="true" [rows]="10" [pageLinks]="6" [rowsPerPageOptions]='[10,50,100]'>
                            <p-column [hidden]='!tableData.length' [style]="{'width':'50px'}" header='Sr.No'>
                                    <ng-template let-i="rowIndex" pTemplate="" >
                                            {{i+1}}
                                    </ng-template>
                            </p-column>
                        <p-column *ngFor="let col of cols" [field]="col.field" [header]="col.header" [sortable]="true" [filter]="true" [style]="{'width':'125px'}" columnResizeMode="expand">
                        </p-column>
                    </p-dataTable>
                </div>
            </div>
    </div>
</div>
</p-dialog>

<ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '3px' }" [template]="customLoadingTemplate"></ngx-loading>
